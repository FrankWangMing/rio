(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{9099:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2217)}])},2217:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tt}});var r,o,a=n(7458),i=n(1943),s=n(2983),d=n(8225),l=n(5563),c=n.n(l);n(7179),"undefined"!=typeof window&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/core"]="0.2.11");let u=s.createContext(null),p=({id:e,related:t=!1,children:n})=>s.createElement(u.Provider,{value:{id:e,related:t}},n);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function y(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function O(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a,i,s=[],d=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);d=!0);}catch(e){l=!0,o=e}finally{try{if(!d&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw o}}return s}}(e,t)||w(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e){return function(e){if(Array.isArray(e))return k(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||w(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:String(t)}let D=(0,s.createContext)(null);var I=(0,s.createContext)(null),z=function(){return(0,s.useContext)(I)};function P(e){var t=z(),n=(0,s.useContext)(D);(0,d.Z)(n,i.k8);var r=(0,i.rf)(n,e),o=(0,s.useMemo)(function(){return t&&t.createConnectorsUsage()},[t]);(0,s.useEffect)(function(){return o.register(),function(){o.cleanup()}},[o]);var a=(0,s.useMemo)(function(){return o&&(0,i.p)(o.connectors)},[o]);return h(h({},r),{},{connectors:a,inContext:!!n,store:n})}var L=["actions","query","connectors"];function R(e){var t=(0,s.useContext)(u);(0,d.Z)(t,i.pY);var n=t.id,r=t.related,o=P(function(t){return n&&t.nodes[n]&&e&&e(t.nodes[n])}),a=o.actions,l=o.connectors,c=E(o,L),p=(0,s.useMemo)(function(){return(0,i.p)({connect:function(e){return l.connect(e,n)},drag:function(e){return l.drag(e,n)}})},[l,n]),f=(0,s.useMemo)(function(){return{setProp:function(e,t){t?a.history.throttle(t).setProp(n,e):a.setProp(n,e)},setCustom:function(e,t){t?a.history.throttle(t).setCustom(n,e):a.setCustom(n,e)},setHidden:function(e){return a.setHidden(n,e)}}},[a,n]);return h(h({},c),{},{id:n,related:r,inNodeContext:!!t,actions:f,connectors:p})}var _=["id","related","actions","inNodeContext","connectors"];function A(e){var t=R(e),n=t.id,r=t.related,o=t.actions,a=t.inNodeContext,s=t.connectors;return h(h({},E(t,_)),{},{actions:o,id:n,related:r,setProp:function(e,t){return(0,i.d9)("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),o.setProp(e,t)},inNodeContext:a,connectors:s})}let q=({render:e})=>{let{connectors:{connect:t,drag:n}}=A();return"string"==typeof e.type?t(n(s.cloneElement(e))):e},M=()=>{let{type:e,props:t,nodes:n,hydrationTimestamp:r}=R(e=>({type:e.data.type,props:e.data.props,nodes:e.data.nodes,hydrationTimestamp:e._hydrationTimestamp}));return(0,s.useMemo)(()=>{let r=t.children;n&&n.length>0&&(r=s.createElement(s.Fragment,null,n.map(e=>s.createElement(B,{id:e,key:e}))));let o=s.createElement(e,t,r);return"string"==typeof e?s.createElement(q,{render:o}):o},[e,t,r,n])},F=({render:e})=>{let{hidden:t}=R(e=>({hidden:e.data.hidden})),{onRender:n}=P(e=>({onRender:e.options.onRender}));return t?null:s.createElement(n,{render:e||s.createElement(M,null)})},B=({id:e,render:t})=>s.createElement(p,{id:e},s.createElement(F,{render:t})),H={is:"div",canvas:!1,custom:{},hidden:!1},W={is:"type",canvas:"isCanvas"};function Q({id:e,children:t,...n}){let{is:r}={...H,...n},{query:o,actions:a}=P(),{id:l,inNodeContext:c}=R(),[u]=(0,s.useState)(()=>{(0,d.Z)(!!e,i.VW);let u=o.node(l).get();if(c){let i=u.data.linkedNodes[e]?o.node(u.data.linkedNodes[e]).get():null;if(i&&i.data.type===r)return i.id;let d=s.createElement(Q,n,t),c=o.parseReactElement(d).toNodeTree();return a.history.ignore().addLinkedNodeFromTree(c,l,e),c.rootNodeId}return null});return u?s.createElement(B,{id:u}):null}let V=()=>(0,i.d9)("<Canvas />",{suggest:"<Element canvas={true} />"});function $({...e}){return(0,s.useEffect)(()=>V(),[]),s.createElement(Q,{...e,canvas:!0})}let J=()=>{let{timestamp:e}=P(e=>({timestamp:e.nodes[i.QS]&&e.nodes[i.QS]._hydrationTimestamp}));return e?s.createElement(B,{id:i.QS,key:e}):null},U=({children:e,json:t,data:n})=>{let{actions:r,query:o}=P();t&&(0,i.d9)("<Frame json={...} />",{suggest:"<Frame data={...} />"});let a=(0,s.useRef)(!1);if(!a.current){let d=n||t;if(d)r.history.ignore().deserialize(d);else if(e){let t=s.Children.only(e),n=o.parseReactElement(t).toNodeTree((e,n)=>(n===t&&(e.id=i.QS),e));r.history.ignore().addNodeTree(n)}a.current=!0}return s.createElement(J,null)};(r=o||(o={}))[r.Any=0]="Any",r[r.Id=1]="Id",r[r.Obj=2]="Obj";let Y=e=>{let{addLinkedNodeFromTree:t,setDOM:n,setNodeEvent:r,replaceNodes:o,reset:a,...i}=e;return i};function X(e){let{connectors:t,actions:n,query:r,store:o,...a}=P(e),i=Y(n);return{connectors:t,actions:(0,s.useMemo)(()=>({...i,history:{...i.history,ignore:(...e)=>Y(i.history.ignore(...e)),throttle:(...e)=>Y(i.history.throttle(...e))}}),[i]),query:r,store:o,...a}}var G=function(e){return Object.fromEntries?Object.fromEntries(e):e.reduce(function(e,t){var n=Z(t,2),r=n[0],o=n[1];return h(h({},e),{},x({},r,o))},{})},K=function(e,t,n){var r=Array.isArray(t)?t:[t],o=h({existOnly:!1,idOnly:!1},n||{}),a=r.filter(function(e){return!!e}).map(function(t){return"string"==typeof t?{node:e[t],exists:!!e[t]}:"object"!==v(t)||o.idOnly?{node:null,exists:!1}:{node:t,exists:!!e[t.id]}});return o.existOnly&&(0,d.Z)(0===a.filter(function(e){return!e.exists}).length,i.YN),a},ee=["history"],et=null,en=function(e,t){if("string"==typeof t)return t;var n,r=void 0!==(n=(function(e){if(et&&et.resolver===e)return et.reversed;et={resolver:e,reversed:new Map};for(var t=0,n=Object.entries(e);t<n.length;t++){var r=Z(n[t],2);et.reversed.set(r[1],r[0])}return et.reversed})(e).get(t))?n:null;return(0,d.Z)(r,i.Wt.replace("%node_type%",t.name||t.displayName)),r};let er=(e,t)=>"string"==typeof e?e:{resolvedName:en(t,e)},eo=(e,t)=>{let{type:n,isCanvas:r,props:o}=e;return o=Object.keys(o).reduce((e,n)=>{let r=o[n];return null==r||"function"==typeof r||(e[n]="children"===n&&"string"!=typeof r?s.Children.map(r,e=>"string"==typeof e?e:eo(e,t)):"function"==typeof r.type?eo(r,t):r),e},{}),{type:er(n,t),isCanvas:!!r,props:o}},ea=(e,t)=>{let{type:n,props:r,isCanvas:o,name:a,...i}=e;return{...eo({type:n,isCanvas:o,props:r},t),...i}};function ei(e,t,n,r){for(var o={parent:e,index:0,where:"before"},a=0,i=0,s=0,d=0,l=0,c=0,u=0,p=t.length;u<p;u++){var f=t[u];if(c=f.top+f.outerHeight,d=f.left+f.outerWidth/2,l=f.top+f.outerHeight/2,!(i&&f.left>i||s&&l>=s||a&&f.left+f.outerWidth<a)){if(o.index=u,f.inFlow){if(r<l){o.where="before";break}o.where="after"}else r<c&&(s=c),n<d?(i=d,o.where="before"):(a=d,o.where="after")}}return o}var es=function(e){return"string"==typeof e?e:e.name};function ed(e,t){var n=e.data.type,r={id:e.id||(0,i.wm)(),_hydrationTimestamp:Date.now(),data:h({type:n,name:es(n),displayName:es(n),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},e.data),info:{},related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:function(){return!0},canDrop:function(){return!0},canMoveIn:function(){return!0},canMoveOut:function(){return!0}},dom:null};if(r.data.type===Q||r.data.type===$){var o=h(h({},H),r.data.props);r.data.props=Object.keys(r.data.props).reduce(function(e,t){return Object.keys(H).includes(t)?r.data[W[t]||t]=o[t]:e[t]=r.data.props[t],e},{}),r.data.name=es(n=r.data.type),r.data.displayName=es(n),r.data.type===$&&(r.data.isCanvas=!0,V())}t&&t(r);var a=n.craft;if(a){if(r.data.displayName=a.displayName||a.name||r.data.displayName,r.data.props=h(h({},a.props||a.defaultProps||{}),r.data.props),r.data.custom=h(h({},a.custom||{}),r.data.custom),null!=a.isCanvas&&(r.data.isCanvas=a.isCanvas),a.rules&&Object.keys(a.rules).forEach(function(e){["canDrag","canDrop","canMoveIn","canMoveOut"].includes(e)&&(r.rules[e]=a.rules[e])}),a.related){var d={id:r.id,related:!0};Object.keys(a.related).forEach(function(e){r.related[e]=function(t){return s.createElement(p,d,s.createElement(a.related[e],t))}})}a.info&&(r.info=a.info)}return r}let el=(e,t,n)=>{let{type:r,props:o}=e,a="object"==typeof r&&r.resolvedName?"Canvas"===r.resolvedName?$:t[r.resolvedName]:"string"==typeof r?r:null;if(!a)return;o=Object.keys(o).reduce((e,n)=>{let r=o[n];return e[n]=null==r?null:"object"==typeof r&&r.resolvedName?el(r,t):"children"===n&&Array.isArray(r)?r.map(e=>"string"==typeof e?e:el(e,t)):r,e},{}),n&&(o.key=n);let i={...s.createElement(a,{...o})};return{...i,name:en(t,i.type)}},ec=(e,t)=>{let{type:n,props:r,...o}=e;(0,d.Z)(void 0!==n&&"string"==typeof n||void 0!==n&&void 0!==n.resolvedName,i.aP.replace("%displayName%",e.displayName).replace("%availableComponents%",Object.keys(t).join(", ")));let{type:a,name:s,props:l}=el(e,t),{parent:c,custom:u,displayName:p,isCanvas:f,nodes:h,hidden:v}=o;return{type:a,name:s,displayName:p||s,props:l,custom:u||{},isCanvas:!!f,hidden:!!v,parent:c,linkedNodes:o.linkedNodes||o._childCanvas||{},nodes:h||[]}},eu=(e,t)=>{if(t.length<1)return{[e.id]:e};let n=t.map(({rootNodeId:e})=>e),r={...e,data:{...e.data,nodes:n}};return t.reduce((t,n)=>{let r=n.nodes[n.rootNodeId];return{...t,...n.nodes,[r.id]:{...r,data:{...r.data,parent:e.id}}}},{[e.id]:r})},ep=(e,t)=>({rootNodeId:e.id,nodes:eu(e,t)});var ef=function(e){b(n,i.o7);var t=C(n);function n(){return g(this,n),t.apply(this,arguments)}return y(n,[{key:"handlers",value:function(){return{connect:function(e,t){},select:function(e,t){},hover:function(e,t){},drag:function(e,t){},drop:function(e,t){},create:function(e,t,n){}}}}]),n}(),eh=(function(){b(t,i.Oz);var e=C(t);function t(){return g(this,t),e.apply(this,arguments)}y(t)}(),function(e){e.preventDefault()}),ev=function(){function e(t,n){g(this,e),x(this,"store",void 0),x(this,"dragTarget",void 0),x(this,"currentDropTargetId",void 0),x(this,"currentDropTargetCanvasAncestorId",void 0),x(this,"currentIndicator",null),x(this,"currentTargetId",void 0),x(this,"currentTargetChildDimensions",void 0),x(this,"dragError",void 0),x(this,"draggedNodes",void 0),x(this,"onScrollListener",void 0),this.store=t,this.dragTarget=n,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0),window.addEventListener("dragover",eh,!1)}return y(e,[{key:"cleanup",value:function(){window.removeEventListener("scroll",this.onScrollListener,!0),window.removeEventListener("dragover",eh,!1)}},{key:"onScroll",value:function(e){var t=e.target,n=this.store.query.node(i.QS).get();t instanceof Element&&n&&n.dom&&t.contains(n.dom)&&(this.currentTargetChildDimensions=null)}},{key:"getDraggedNodes",value:function(){return K(this.store.query.getNodes(),"new"===this.dragTarget.type?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}},{key:"validateDraggedNodes",value:function(){var e=this;"new"!==this.dragTarget.type&&this.draggedNodes.forEach(function(t){t.exists&&e.store.query.node(t.node.id).isDraggable(function(t){e.dragError=t})})}},{key:"isNearBorders",value:function(t,n,r){return t.top+e.BORDER_OFFSET>r||t.bottom-e.BORDER_OFFSET<r||t.left+e.BORDER_OFFSET>n||t.right-e.BORDER_OFFSET<n}},{key:"isDiff",value:function(e){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==e.parent.id||this.currentIndicator.placement.index!==e.index||this.currentIndicator.placement.where!==e.where}},{key:"getChildDimensions",value:function(e){var t=this,n=this.currentTargetChildDimensions;return this.currentTargetId===e.id&&n?n:e.data.nodes.reduce(function(e,n){var r=t.store.query.node(n).get().dom;return r&&e.push(h({id:n},(0,i.eL)(r))),e},[])}},{key:"getCanvasAncestor",value:function(e){var t=this;if(e===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){var n=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(n)return n}return function e(n){var r=t.store.query.node(n).get();return r&&r.data.isCanvas?r:r.data.parent?e(r.data.parent):null}(e)}},{key:"computeIndicator",value:function(e,t,n){var r=this.getCanvasAncestor(e);if(r&&(this.currentDropTargetId=e,this.currentDropTargetCanvasAncestorId=r.id,r.data.parent&&this.isNearBorders((0,i.eL)(r.dom),t,n)&&!this.store.query.node(r.id).isLinkedNode()&&(r=this.store.query.node(r.data.parent).get()),r)){this.currentTargetChildDimensions=this.getChildDimensions(r),this.currentTargetId=r.id;var o=ei(r,this.currentTargetChildDimensions,t,n);if(this.isDiff(o)){var a=this.dragError;a||this.store.query.node(r.id).isDroppable(this.draggedNodes.map(function(e){return e.node}),function(e){a=e});var s=r.data.nodes[o.index],d=s&&this.store.query.node(s).get();return this.currentIndicator={placement:h(h({},o),{},{currentNode:d}),error:a},this.currentIndicator}}}},{key:"getIndicator",value:function(){return this.currentIndicator}}]),e}();x(ev,"BORDER_OFFSET",10);var eg=function(e,t){if(1===t.length||arguments.length>2&&void 0!==arguments[2]&&arguments[2]){var n=t[0].getBoundingClientRect(),r=n.width,o=n.height,a=t[0].cloneNode(!0);return a.style.position="absolute",a.style.left="-100%",a.style.top="-100%",a.style.width="".concat(r,"px"),a.style.height="".concat(o,"px"),a.style.pointerEvents="none",a.classList.add("drag-shadow"),document.body.appendChild(a),e.dataTransfer.setDragImage(a,0,0),a}var i=document.createElement("div");return i.style.position="absolute",i.style.left="-100%",i.style.top="-100%",i.style.width="100%",i.style.height="100%",i.style.pointerEvents="none",i.classList.add("drag-shadow-container"),t.forEach(function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height,o=t.top,a=t.left,s=e.cloneNode(!0);s.style.position="absolute",s.style.left="".concat(a,"px"),s.style.top="".concat(o,"px"),s.style.width="".concat(n,"px"),s.style.height="".concat(r,"px"),s.classList.add("drag-shadow"),i.appendChild(s)}),document.body.appendChild(i),e.dataTransfer.setDragImage(i,e.clientX,e.clientY),i},em=function(e){b(n,ef);var t=C(n);function n(){var e;g(this,n);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return x(O(e=t.call.apply(t,[this].concat(o))),"draggedElementShadow",void 0),x(O(e),"dragTarget",void 0),x(O(e),"positioner",null),x(O(e),"currentSelectedElementIds",[]),e}return y(n,[{key:"onDisable",value:function(){this.options.store.actions.clearEvents()}},{key:"handlers",value:function(){var e=this,t=this.options.store;return{connect:function(n,r){return t.actions.setDOM(r,n),e.reflect(function(e){e.select(n,r),e.hover(n,r),e.drop(n,r)})},select:function(n,r){var o=e.addCraftEventListener(n,"mousedown",function(n){n.craft.stopPropagation();var o=[];if(r){var a=t.query,i=a.getEvent("selected").all();(e.options.isMultiSelectEnabled(n)||i.includes(r))&&(o=i.filter(function(e){var t=a.node(e).descendants(!0),n=a.node(e).ancestors(!0);return!t.includes(r)&&!n.includes(r)})),o.includes(r)||o.push(r)}t.actions.setNodeEvent("selected",o)}),a=e.addCraftEventListener(n,"click",function(n){n.craft.stopPropagation();var o=t.query.getEvent("selected").all(),a=e.options.isMultiSelectEnabled(n),i=e.currentSelectedElementIds.includes(r),s=S(o);a&&i?(s.splice(s.indexOf(r),1),t.actions.setNodeEvent("selected",s)):!a&&o.length>1&&t.actions.setNodeEvent("selected",s=[r]),e.currentSelectedElementIds=s});return function(){o(),a()}},hover:function(n,r){var o=e.addCraftEventListener(n,"mouseover",function(e){e.craft.stopPropagation(),t.actions.setNodeEvent("hovered",r)}),a=null;return e.options.removeHoverOnMouseleave&&(a=e.addCraftEventListener(n,"mouseleave",function(e){e.craft.stopPropagation(),t.actions.setNodeEvent("hovered",null)})),function(){o(),a&&a()}},drop:function(n,r){var o=e.addCraftEventListener(n,"dragover",function(n){if(n.craft.stopPropagation(),n.preventDefault(),e.positioner){var o=e.positioner.computeIndicator(r,n.clientX,n.clientY);o&&t.actions.setIndicator(o)}}),a=e.addCraftEventListener(n,"dragenter",function(e){e.craft.stopPropagation(),e.preventDefault()});return function(){a(),o()}},drag:function(r,o){if(!t.query.node(o).isDraggable())return function(){};r.setAttribute("draggable","true");var a=e.addCraftEventListener(r,"dragstart",function(r){r.craft.stopPropagation();var a=t.query,i=t.actions,s=a.getEvent("selected").all(),d=e.options.isMultiSelectEnabled(r);e.currentSelectedElementIds.includes(o)||(s=d?[].concat(S(s),[o]):[o],t.actions.setNodeEvent("selected",s)),i.setNodeEvent("dragged",s);var l=s.map(function(e){return a.node(e).get().dom});e.draggedElementShadow=eg(r,l,n.forceSingleDragShadow),e.dragTarget={type:"existing",nodes:s},e.positioner=new ev(e.options.store,e.dragTarget)}),i=e.addCraftEventListener(r,"dragend",function(n){n.craft.stopPropagation(),e.dropElement(function(e,n){"new"!==e.type&&t.actions.move(e.nodes,n.placement.parent.id,n.placement.index+("after"===n.placement.where?1:0))})});return function(){r.setAttribute("draggable","false"),a(),i()}},create:function(r,o,a){r.setAttribute("draggable","true");var i=e.addCraftEventListener(r,"dragstart",function(r){var a;if(r.craft.stopPropagation(),"function"==typeof o){var i=o();a=s.isValidElement(i)?t.query.parseReactElement(i).toNodeTree():i}else a=t.query.parseReactElement(o).toNodeTree();e.draggedElementShadow=eg(r,[r.currentTarget],n.forceSingleDragShadow),e.dragTarget={type:"new",tree:a},e.positioner=new ev(e.options.store,e.dragTarget)}),d=e.addCraftEventListener(r,"dragend",function(n){n.craft.stopPropagation(),e.dropElement(function(e,n){"existing"!==e.type&&(t.actions.addNodeTree(e.tree,n.placement.parent.id,n.placement.index+("after"===n.placement.where?1:0)),a&&c()(a.onCreate)&&a.onCreate(e.tree))})});return function(){r.removeAttribute("draggable"),i(),d()}}}}},{key:"dropElement",value:function(e){var t=this.options.store;if(this.positioner){var n=this.draggedElementShadow,r=this.positioner.getIndicator();this.dragTarget&&r&&!r.error&&e(this.dragTarget,r),n&&(n.parentNode.removeChild(n),this.draggedElementShadow=null),this.dragTarget=null,t.actions.setIndicator(null),t.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}}]),n}();x(em,"forceSingleDragShadow",(0,i.mJ)()&&(0,i.IJ)());let ey=()=>{let{indicator:e,indicatorOptions:t,enabled:n}=P(e=>({indicator:e.indicator,indicatorOptions:e.options.indicator,enabled:e.options.enabled})),r=z();return(0,s.useEffect)(()=>{r&&(n?r.enable():r.disable())},[n,r]),e?s.createElement(i.nV,{className:t.className,style:{...function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,o=0,a=0,i=0,s=0,d=e.where;return n?n.inFlow?(i=n.outerWidth,s=r,o="before"===d?n.top:n.bottom,a=n.left):(i=r,s=n.outerHeight,o=n.top,a="before"===d?n.left:n.left+n.outerWidth):t&&(o=t.top+t.padding.top,a=t.left+t.padding.left,i=t.outerWidth-t.padding.right-t.padding.left-t.margin.left-t.margin.right,s=r),{top:"".concat(o,"px"),left:"".concat(a,"px"),width:"".concat(i,"px"),height:"".concat(s,"px")}}(e.placement,(0,i.eL)(e.placement.parent.dom),e.placement.currentNode&&(0,i.eL)(e.placement.currentNode.dom),t.thickness),backgroundColor:e.error?t.error:t.success,transition:t.transition||"0.2s ease-in",...t.style??{}},parentDom:e.placement.parent.dom}):null},ex=({children:e})=>{let t=(0,s.useContext)(D),n=(0,s.useMemo)(()=>t.query.getOptions().handlers(t),[t]);return n?s.createElement(I.Provider,{value:n},s.createElement(ey,null),e):null},eb={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:e})=>e,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},handlers:e=>new em({store:e,removeHoverOnMouseleave:!1,isMultiSelectEnabled:e=>!!e.metaKey}),normalizeNodes:()=>{}}},ej={methods:function(e,t){var n,r,o,a;return h(h({},(n=e,r=function(e,t,r){if(function t(r,o){var a=e.nodes[r];"string"!=typeof a.data.type&&(0,d.Z)(n.options.resolver[a.data.name],i.Wt.replace("%node_type%","".concat(a.data.type.name))),n.nodes[r]=h(h({},a),{},{data:h(h({},a.data),{},{parent:o})}),a.data.nodes.length>0&&(delete n.nodes[r].data.props.children,a.data.nodes.forEach(function(e){return t(e,a.id)})),Object.values(a.data.linkedNodes).forEach(function(e){return t(e,a.id)})}(e.rootNodeId,t),t||e.rootNodeId!==i.QS){var a=o(t);if("child"!==r.type)a.data.linkedNodes[r.id]=e.rootNodeId;else{var s=r.index;null!=s?a.data.nodes.splice(s,0,e.rootNodeId):a.data.nodes.push(e.rootNodeId)}}},o=function(e){(0,d.Z)(e,i.ab);var t=n.nodes[e];return(0,d.Z)(t,i.YN),t},a=function e(t){var r=n.nodes[t],o=n.nodes[r.data.parent];if(r.data.nodes&&S(r.data.nodes).forEach(function(t){return e(t)}),r.data.linkedNodes&&Object.values(r.data.linkedNodes).map(function(t){return e(t)}),o.data.nodes.includes(t)){var a=o.data.nodes;a.splice(a.indexOf(t),1)}else{var i=Object.keys(o.data.linkedNodes).find(function(e){return o.data.linkedNodes[e]===e});i&&delete o.data.linkedNodes[i]}(function(e,t){Object.keys(e.events).forEach(function(n){var r=e.events[n];r&&r.has&&r.has(t)&&(e.events[n]=new Set(Array.from(r).filter(function(e){return t!==e})))})})(n,t),delete n.nodes[t]},{addLinkedNodeFromTree:function(e,t,n){var i=o(t).data.linkedNodes[n];i&&a(i),r(e,t,{type:"linked",id:n})},add:function(e,t,n){var o=[e];Array.isArray(e)&&((0,i.d9)("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),o=e),o.forEach(function(e){r({nodes:x({},e.id,e),rootNodeId:e.id},t,{type:"child",index:n})})},addNodeTree:function(e,t,n){r(e,t,{type:"child",index:n})},delete:function(e){K(n.nodes,e,{existOnly:!0,idOnly:!0}).forEach(function(e){var n=e.node;(0,d.Z)(!t.node(n.id).isTopLevelNode(),i.JB),a(n.id)})},deserialize:function(e){var n="string"==typeof e?JSON.parse(e):e,r=Object.keys(n).map(function(e){var r=e;return e===i.CD&&(r=i.QS),[r,t.parseSerializedNode(n[e]).toNode(function(e){return e.id=r})]});this.replaceNodes(G(r))},move:function(e,r,o){var a=K(n.nodes,e,{existOnly:!0}),i=n.nodes[r],s=new Set;a.forEach(function(e,a){var d=e.node,l=d.id,c=d.data.parent;t.node(r).isDroppable([l],function(e){throw Error(e)}),n.options.onBeforeMoveEnd(d,i,n.nodes[c]);var u=n.nodes[c].data.nodes;s.add(u);var p=u.indexOf(l);u[p]="$$",i.data.nodes.splice(o+a,0,l),n.nodes[l].data.parent=r}),s.forEach(function(e){var t=e.length;S(e).reverse().forEach(function(n,r){"$$"===n&&e.splice(t-1-r,1)})})},replaceNodes:function(e){this.clearEvents(),n.nodes=e},clearEvents:function(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset:function(){this.clearEvents(),this.replaceNodes({})},setOptions:function(e){e(n.options)},setNodeEvent:function(e,t){if(n.events[e].forEach(function(t){n.nodes[t]&&(n.nodes[t].events[e]=!1)}),n.events[e]=new Set,t){var r=K(n.nodes,t,{idOnly:!0,existOnly:!0}),o=new Set(r.map(function(e){return e.node.id}));o.forEach(function(t){n.nodes[t].events[e]=!0}),n.events[e]=o}},setCustom:function(e,t){K(n.nodes,e,{idOnly:!0,existOnly:!0}).forEach(function(e){return t(n.nodes[e.node.id].data.custom)})},setDOM:function(e,t){n.nodes[e]&&(n.nodes[e].dom=t)},setIndicator:function(e){e&&(!e.placement.parent.dom||e.placement.currentNode&&!e.placement.currentNode.dom)||(n.indicator=e)},setHidden:function(e,t){n.nodes[e].data.hidden=t},setProp:function(e,t){K(n.nodes,e,{idOnly:!0,existOnly:!0}).forEach(function(e){return t(n.nodes[e.node.id].data.props)})},selectNode:function(e){if(e){var t=K(n.nodes,e,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",t.map(function(e){return e.node.id}))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}})),{},{setState:function(t){t(e,E(this,ee))}})},ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:e=>{Object.keys(e.events).forEach(t=>{Array.from(e.events[t]||[]).forEach(n=>{e.nodes[n]||e.events[t].delete(n)})}),Object.keys(e.nodes).forEach(t=>{let n=e.nodes[t];Object.keys(n.events).forEach(t=>{n.events[t]&&e.events[t]&&!e.events[t].has(n.id)&&(n.events[t]=!1)})})}},eN=(e,t)=>(0,i.$1)(ej,{...eb,options:{...eb.options,...e}},function e(t){let n=t&&t.options,r=()=>e(t);return{getDropPlaceholder:(e,n,o,a=e=>t.nodes[e.id].dom)=>{let s=t.nodes[n],d=r().node(s.id).isCanvas()?s:t.nodes[s.data.parent];if(!d)return;let l=d.data.nodes||[],c=ei(d,l?l.reduce((e,n)=>{let r=a(t.nodes[n]);if(r){let t={id:n,...(0,i.eL)(r)};e.push(t)}return e},[]):[],o.x,o.y),u=l.length&&t.nodes[l[c.index]],p={placement:{...c,currentNode:u},error:null};return K(t.nodes,e).forEach(({node:e,exists:t})=>{t&&r().node(e.id).isDraggable(e=>p.error=e)}),r().node(d.id).isDroppable(e,e=>p.error=e),p},getOptions:()=>n,getNodes:()=>t.nodes,node:e=>(function e(t,n){(0,d.Z)("string"==typeof n,i.ZW);var r=t.nodes[n],o=function(n){return e(t,n)};return{isCanvas:function(){return!!r.data.isCanvas},isRoot:function(){return r.id===i.QS},isLinkedNode:function(){return r.data.parent&&o(r.data.parent).linkedNodes().includes(r.id)},isTopLevelNode:function(){return this.isRoot()||this.isLinkedNode()},isDeletable:function(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:function(){return r.data.linkedNodes&&Object.keys(r.data.linkedNodes).length>0},isParentOfTopLevelCanvas:function(){return(0,i.d9)("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:function(){return t.events.selected.has(n)},isHovered:function(){return t.events.hovered.has(n)},isDragged:function(){return t.events.dragged.has(n)},get:function(){return r},ancestors:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function n(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=t.nodes[r];return i&&(o.push(r),i.data.parent&&(e||!e&&0===a)&&(o=n(i.data.parent,o,a+1))),o}(r.data.parent)},descendants:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;return function n(a){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(e||!e&&0===s)&&t.nodes[a]&&("childNodes"!==r&&o(a).linkedNodes().forEach(function(e){i.push(e),i=n(e,i,s+1)}),"linkedNodes"!==r&&o(a).childNodes().forEach(function(e){i.push(e),i=n(e,i,s+1)})),i}(n)},linkedNodes:function(){return Object.values(r.data.linkedNodes||{})},childNodes:function(){return r.data.nodes||[]},isDraggable:function(n){try{return(0,d.Z)(!this.isTopLevelNode(),i.sS),(0,d.Z)(e(t,r.data.parent).isCanvas(),i.Cz),(0,d.Z)(r.rules.canDrag(r,o),i.Ut),!0}catch(e){return n&&n(e),!1}},isDroppable:function(e,n){var a=K(t.nodes,e);try{(0,d.Z)(this.isCanvas(),i.Ph),(0,d.Z)(r.rules.canMoveIn(a.map(function(e){return e.node}),r,o),i.aL);var s={};return a.forEach(function(e){var n=e.node,a=e.exists;if((0,d.Z)(n.rules.canDrop(r,n,o),i.if),a){(0,d.Z)(!o(n.id).isTopLevelNode(),i.sS);var l=o(n.id).descendants(!0);(0,d.Z)(!l.includes(r.id)&&r.id!==n.id,i.iO);var c=n.data.parent&&t.nodes[n.data.parent];(0,d.Z)(c.data.isCanvas,i.Cz),(0,d.Z)(c||!c&&!t.nodes[n.id],i.UE),c.id!==r.id&&(s[c.id]||(s[c.id]=[]),s[c.id].push(n))}}),Object.keys(s).forEach(function(e){var n=t.nodes[e];(0,d.Z)(n.rules.canMoveOut(s[e],n,o),i.sk)}),!0}catch(e){return n&&n(e),!1}},toSerializedNode:function(){return ea(r.data,t.options.resolver)},toNodeTree:function(e){var t=[n].concat(S(this.descendants(!0,e))).reduce(function(e,t){return e[t]=o(t).get(),e},{});return{rootNodeId:n,nodes:t}},decendants:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(0,i.d9)("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(e)},isTopLevelCanvas:function(){return!this.isRoot()&&!r.data.parent}}})(t,e),getSerializedNodes(){let e=Object.keys(t.nodes).map(e=>[e,this.node(e).toSerializedNode()]);return G(e)},getEvent:e=>{var n;return n=t.events[e],{contains:function(e){return n.has(e)},isEmpty:function(){return 0===this.all().length},first:function(){return this.all()[0]},last:function(){var e=this.all();return e[e.length-1]},all:function(){return Array.from(n)},size:function(){return this.all().length},at:function(e){return this.all()[e]},raw:function(){return n}}},serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:e=>({toNodeTree(n){var o;let a;let i=(o=(e,r)=>{let o=en(t.options.resolver,e.data.type);e.data.displayName=e.data.displayName||o,e.data.name=o,n&&n(e,r)},"string"==typeof(a=e)&&(a=s.createElement(s.Fragment,{},a)),ed({data:{type:a.type,props:{...a.props}}},e=>{o&&o(e,a)})),d=[];return e.props&&e.props.children&&(d=s.Children.toArray(e.props.children).reduce((e,t)=>(s.isValidElement(t)&&e.push(r().parseReactElement(t).toNodeTree(n)),e),[])),ep(i,d)}}),parseSerializedNode:e=>({toNode(n){let o=ec(e,t.options.resolver);(0,d.Z)(o.type,i.Wt);let a="string"==typeof n&&n;return a&&(0,i.d9)("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),r().parseFreshNode({...a?{id:a}:{},data:o}).toNode(!a&&n)}}),parseFreshNode:e=>({toNode:n=>ed(e,e=>{e.data.parent===i.CD&&(e.data.parent=i.QS);let r=en(t.options.resolver,e.data.type);(0,d.Z)(null!==r,i.Wt),e.data.displayName=e.data.displayName||r,e.data.name=r,n&&n(e)})}),createNode(e,t){(0,i.d9)(`query.createNode(${e})`,{suggest:`query.parseReactElement(${e}).toNodeTree()`});let n=this.parseReactElement(e).toNodeTree(),r=n.nodes[n.rootNodeId];return t&&(t.id&&(r.id=t.id),t.data&&(r.data={...r.data,...t.data})),r},getState:()=>t}},t),eE=({children:e,...t})=>{void 0!==t.resolver&&(0,d.Z)("object"==typeof t.resolver&&!Array.isArray(t.resolver)&&null!==t.resolver,i.lq);let n=(0,s.useRef)(t),r=eN(n.current,(e,t,n,r,o)=>{if(!n)return;let{patches:a,...s}=n;for(let n=0;n<a.length;n++){let{path:d}=a[n],l=d.length>2&&"nodes"===d[0]&&"data"===d[2];if([i.G7.IGNORE,i.G7.THROTTLE].includes(s.type)&&s.params&&(s.type=s.params[0]),["setState","deserialize"].includes(s.type)||l){o(n=>{e.options.normalizeNodes&&e.options.normalizeNodes(n,t,s,r)});break}}});return(0,s.useEffect)(()=>{r&&void 0!==t.enabled&&r.query.getOptions().enabled!==t.enabled&&r.actions.setOptions(e=>{e.enabled=t.enabled})},[r,t.enabled]),(0,s.useEffect)(()=>{r.subscribe(e=>({json:r.query.serialize()}),()=>{r.query.getOptions().onNodesChange(r.query)})},[r]),r?s.createElement(D.Provider,{value:r},s.createElement(ex,null,e)):null};var eO=n(5781),eC=n(1577),eZ=n(4488),eS=n(581),ew=n(8083),ek=n(4249),eT=n(4780);let eD=()=>{let{actions:e,selected:t,isEnabled:n}=X((e,t)=>{let n;let r=t.getEvent("selected").last();return r&&(n={id:r,name:e.nodes[r].data.name,settings:e.nodes[r].related&&e.nodes[r].related.settings,isDeletable:t.node(r).isDeletable()}),{selected:n,isEnabled:e.options.enabled}});return n&&t?(0,a.jsx)(ew.Z,{bgcolor:"rgba(0, 0, 0, 0.06)",mt:2,px:2,py:2,children:(0,a.jsxs)(eZ.Z,{container:!0,direction:"column",spacing:0,children:[(0,a.jsx)(eZ.Z,{item:!0,children:(0,a.jsx)(ew.Z,{pb:2,children:(0,a.jsxs)(eZ.Z,{container:!0,alignItems:"center",children:[(0,a.jsx)(eZ.Z,{item:!0,xs:!0,children:(0,a.jsx)(eC.Z,{variant:"subtitle1",children:"Selected"})}),(0,a.jsx)(eZ.Z,{item:!0,children:(0,a.jsx)(ek.Z,{size:"small",color:"primary",label:t.name,"data-cy":"chip-selected"})})]})})}),(0,a.jsx)("div",{"data-cy":"settings-panel",children:t.settings&&s.createElement(t.settings)}),t.isDeletable?(0,a.jsx)(eT.Z,{variant:"contained",color:"default",onClick:()=>{e.delete(t.id)},children:"Delete"}):null]})}):null};var eI=n(3180),ez=n(3689),eP=n(3288),eL=n(3369),eR=n(1364);let e_=e=>{let{size:t,variant:n,color:r,text:o,...i}=e,{connectors:{connect:s,drag:d}}=A();return(0,a.jsx)(eT.Z,{ref:e=>s(d(e)),style:{margin:"5px"},size:t,variant:n,color:r,...i,children:o})},eA=()=>{let{actions:{setProp:e},props:t}=A(e=>({props:e.data.props}));return(0,a.jsxs)("div",{children:[(0,a.jsxs)(eI.Z,{size:"small",component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Size"}),(0,a.jsxs)(eP.Z,{defaultValue:t.size,onChange:t=>e(e=>e.size=t.target.value),children:[(0,a.jsx)(eL.Z,{label:"Small",value:"small",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})}),(0,a.jsx)(eL.Z,{label:"Medium",value:"medium",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})}),(0,a.jsx)(eL.Z,{label:"Large",value:"large",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})})]})]}),(0,a.jsxs)(eI.Z,{component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Variant"}),(0,a.jsxs)(eP.Z,{defaultValue:t.variant,onChange:t=>e(e=>e.variant=t.target.value),children:[(0,a.jsx)(eL.Z,{label:"Text",value:"text",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})}),(0,a.jsx)(eL.Z,{label:"Outlined",value:"outlined",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})}),(0,a.jsx)(eL.Z,{label:"Contained",value:"contained",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})})]})]}),(0,a.jsxs)(eI.Z,{component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Color"}),(0,a.jsxs)(eP.Z,{defaultValue:t.color,onChange:t=>e(e=>e.color=t.target.value),children:[(0,a.jsx)(eL.Z,{label:"Default",value:"default",control:(0,a.jsx)(eR.Z,{size:"small",color:"default"})}),(0,a.jsx)(eL.Z,{label:"Primary",value:"primary",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})}),(0,a.jsx)(eL.Z,{label:"Secondary",value:"secondary",control:(0,a.jsx)(eR.Z,{size:"small",color:"primary"})})]})]})]})};e_.craft={props:{size:"small",variant:"contained",color:"primary",text:"Click me"},related:{settings:eA}};var eq=n(7117),eM=n(8099);let eF=e=>{let{background:t,padding:n,children:r,...o}=e,{connectors:{connect:i,drag:s}}=A();return(0,a.jsx)(eS.Z,{...o,ref:e=>i(s(e)),style:{margin:"5px 0",background:t,padding:"".concat(n,"px")},children:r})},eB=()=>{let{background:e,padding:t,actions:{setProp:n}}=A(e=>({background:e.data.props.background,padding:e.data.props.padding}));return(0,a.jsxs)("div",{children:[(0,a.jsxs)(eI.Z,{fullWidth:!0,margin:"normal",component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Background"}),(0,a.jsx)(eM.Z,{name:"background-color",value:e,onChange:e=>{n(t=>t.background=e,500)}})]}),(0,a.jsxs)(eI.Z,{fullWidth:!0,margin:"normal",component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Padding"}),(0,a.jsx)(eq.Z,{defaultValue:t,onChange:(e,t)=>n(e=>e.padding=t,500)})]})]})},eH={background:"#ffffff",padding:3};eF.craft={props:eH,related:{settings:eB}};var eW=n(5574),eQ=n.n(eW);let eV=e=>{let{text:t,fontSize:n,textAlign:r,...o}=e,{connectors:{connect:i,drag:d},selected:l,actions:{setProp:c}}=A(e=>({selected:e.events.selected,dragged:e.events.dragged})),[u,p]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{l||p(!1)},[l]),(0,a.jsx)("div",{...o,ref:e=>i(d(e)),onClick:()=>l&&p(!0),children:(0,a.jsx)(eQ(),{html:t,disabled:!u,onChange:e=>c(t=>t.text=e.target.value.replace(/<\/?[^>]+(>|$)/g,""),500),tagName:"p",style:{fontSize:"".concat(n,"px"),textAlign:r}})})},e$=()=>{let{actions:{setProp:e},fontSize:t}=A(e=>({text:e.data.props.text,fontSize:e.data.props.fontSize}));return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(eI.Z,{size:"small",component:"fieldset",children:[(0,a.jsx)(ez.Z,{component:"legend",children:"Font size"}),(0,a.jsx)(eq.Z,{value:t||7,step:7,min:1,max:50,onChange:(t,n)=>{e(e=>e.fontSize=n,1e3)}})]})})};eV.craft={props:{text:"Hi",fontSize:20},related:{settings:e$}};let eJ=e=>{let{children:t,...n}=e,{connectors:{connect:r}}=A();return(0,a.jsx)("div",{...n,ref:r,className:"text-only",style:{padding:"10px",marginBottom:"10px",borderBottom:"1px solid #eee",display:"flex",flexDirection:"column",alignItems:"flex-start"},children:t})};eJ.craft={rules:{canMoveIn:e=>e.every(e=>e.data.type===eV)}};let eU=e=>{let{children:t,...n}=e,{connectors:{connect:r}}=A();return(0,a.jsx)("div",{...n,style:{padding:"10px 0"},ref:r,children:t})};eU.craft={rules:{canMoveIn:e=>e.every(e=>e.data.type===e_)}};let eY=e=>{let{background:t,padding:n=20,...r}=e;return(0,a.jsxs)(eF,{...r,background:t,padding:n,children:[(0,a.jsxs)(Q,{canvas:!0,id:"text",is:eJ,"data-cy":"card-top",children:[(0,a.jsx)(eV,{text:"Only texts",fontSize:20,"data-cy":"card-top-text-1"}),(0,a.jsx)(eV,{text:"are allowed up here",fontSize:15,"data-cy":"card-top-text-2"})]}),(0,a.jsx)(Q,{canvas:!0,id:"buttons",is:eU,"data-cy":"card-bottom",children:(0,a.jsx)(e_,{size:"small",text:"Only buttons down here","data-cy":"card-bottom-button"})})]})};eY.craft={props:eH,related:{settings:eB}};let eX=()=>{let{connectors:e}=X();return(0,a.jsx)(ew.Z,{px:2,py:2,children:(0,a.jsxs)(eZ.Z,{container:!0,direction:"column",alignItems:"center",justify:"center",spacing:1,children:[(0,a.jsx)(ew.Z,{pb:2,children:(0,a.jsx)(eC.Z,{children:"Drag to add"})}),(0,a.jsx)(eZ.Z,{container:!0,direction:"column",item:!0,children:(0,a.jsx)(eT.Z,{ref:t=>e.create(t,(0,a.jsx)(e_,{text:"Click me",size:"small"})),variant:"contained","data-cy":"toolbox-button",children:"Button"})}),(0,a.jsx)(eZ.Z,{container:!0,direction:"column",item:!0,children:(0,a.jsx)(eT.Z,{ref:t=>e.create(t,(0,a.jsx)(eV,{text:"Hi world"})),variant:"contained","data-cy":"toolbox-text",children:"Text"})}),(0,a.jsx)(eZ.Z,{container:!0,direction:"column",item:!0,children:(0,a.jsx)(eT.Z,{ref:t=>e.create(t,(0,a.jsx)(Q,{canvas:!0,is:eF,padding:20})),variant:"contained","data-cy":"toolbox-container",children:"Container"})}),(0,a.jsx)(eZ.Z,{container:!0,direction:"column",item:!0,children:(0,a.jsx)(eT.Z,{ref:t=>e.create(t,(0,a.jsx)(eY,{})),variant:"contained","data-cy":"toolbox-card",children:"Card"})})]})})};var eG=n(8179),eK=n(744),e0=n(300),e1=n(2853),e2=n(2344),e9=n(9412),e3=n(7011),e8=n(3473),e7=n.n(e8),e5=n(972),e4=n.n(e5);let e6=()=>{let{actions:e,query:t,enabled:n,canUndo:r,canRedo:o}=X((e,t)=>({enabled:e.options.enabled,canUndo:e.options.enabled&&t.history.canUndo(),canRedo:e.options.enabled&&t.history.canRedo()})),[i,d]=(0,s.useState)(!1),[l,c]=(0,s.useState)(),[u,p]=(0,s.useState)(null);return(0,a.jsx)(ew.Z,{px:1,py:1,mt:3,mb:1,bgcolor:"#cbe8e7",children:(0,a.jsxs)(eZ.Z,{container:!0,alignItems:"center",children:[(0,a.jsxs)(eZ.Z,{item:!0,xs:!0,children:[(0,a.jsx)(eL.Z,{className:"enable-disable-toggle",control:(0,a.jsx)(eG.Z,{checked:n,onChange:(t,n)=>e.setOptions(e=>e.enabled=n)}),label:"Enable"}),(0,a.jsx)(eT.Z,{className:"copy-state-btn",size:"small",variant:"outlined",color:"secondary",disabled:!r,onClick:()=>e.history.undo(),style:{marginRight:"10px"},children:"Undo"}),(0,a.jsx)(eT.Z,{className:"copy-state-btn",size:"small",variant:"outlined",color:"secondary",disabled:!o,onClick:()=>e.history.redo(),style:{marginRight:"10px"},children:"Redo"})]}),(0,a.jsxs)(eZ.Z,{item:!0,children:[(0,a.jsx)(eT.Z,{className:"copy-state-btn",size:"small",variant:"outlined",color:"secondary",onClick:()=>{let n=t.serialize();console.log(t),console.log(n),console.log(t.getNodes()),console.log(e),e7()(e4().encodeBase64(e4().compress(n))),c("State copied to clipboard")},style:{marginRight:"10px"},children:"Copy current state"}),(0,a.jsx)(eT.Z,{className:"load-state-btn",size:"small",variant:"outlined",color:"secondary",onClick:()=>d(!0),children:"Load"}),(0,a.jsxs)(eK.Z,{open:i,onClose:()=>d(!1),fullWidth:!0,maxWidth:"md",children:[(0,a.jsx)(e0.Z,{id:"alert-dialog-title",children:"Load state"}),(0,a.jsx)(e1.Z,{children:(0,a.jsx)(e2.Z,{multiline:!0,fullWidth:!0,placeholder:'Paste the contents that was copied from the "Copy Current State" button',size:"small",value:u||"",onChange:e=>p(e.target.value)})}),(0,a.jsxs)(e9.Z,{children:[(0,a.jsx)(eT.Z,{onClick:()=>d(!1),color:"primary",children:"Cancel"}),(0,a.jsx)(eT.Z,{onClick:()=>{d(!1);let t=e4().decompress(e4().decodeBase64(u));e.deserialize(t),c("State loaded")},color:"primary",autoFocus:!0,children:"Load"})]})]}),(0,a.jsx)(e3.Z,{autoHideDuration:1e3,anchorOrigin:{vertical:"bottom",horizontal:"center"},open:!!l,onClose:()=>c(null),message:(0,a.jsx)("span",{children:l})})]})]})})},te=(0,eO.Z)(()=>({root:{padding:0,background:"rgb(252, 253, 253)"}}));function tt(){let e=te();return(0,a.jsxs)("div",{style:{margin:"0 auto",width:"800px"},children:[(0,a.jsx)(eC.Z,{style:{margin:"20px 0"},variant:"h5",align:"center",children:"Basic Page Editor"}),(0,a.jsxs)(eE,{resolver:{Card:eY,Button:e_,Text:eV,Container:eF,CardTop:eJ,CardBottom:eU},children:[(0,a.jsx)(e6,{}),(0,a.jsxs)(eZ.Z,{container:!0,spacing:5,style:{paddingTop:"10px"},children:[(0,a.jsx)(eZ.Z,{item:!0,xs:!0,children:(0,a.jsx)(U,{children:(0,a.jsxs)(Q,{canvas:!0,is:eF,padding:5,background:"#eeeeee","data-cy":"root-container",children:[(0,a.jsx)(eY,{"data-cy":"frame-card"}),(0,a.jsx)(e_,{text:"Click me",size:"small","data-cy":"frame-button"}),(0,a.jsx)(eV,{fontSize:20,text:"Hi world!","data-cy":"frame-text"}),(0,a.jsx)(Q,{canvas:!0,is:eF,padding:6,background:"#999999","data-cy":"frame-container",children:(0,a.jsx)(eV,{size:"small",text:"It's me again!","data-cy":"frame-container-text"})})]})})}),(0,a.jsx)(eZ.Z,{item:!0,xs:4,children:(0,a.jsxs)(eS.Z,{className:e.root,children:[(0,a.jsx)(eX,{}),(0,a.jsx)(eD,{})]})})]})]})]})}}},function(e){e.O(0,[334,925,774,888,179],function(){return e(e.s=9099)}),_N_E=e.O()}]);